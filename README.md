# Тестовые задания

## Задание 1
#### Что делаем?
Мы с вами разрабатываем базу данных, которая хранит информацию о футбольных клубах и игроках. Мы наполняли базу три года, но в течению этого времени базой пользовались разные комманды и в базу вносились дубли уже имеющихся клубов и игроков. Теперь нам нужно почистить базу от дублей.
#### Где делаем, как проверяем?
В репозитории [VSporte.Task](https://gitlab.com/vsporte_public/vsporte-task) в проекте [VSporte.Task.Solution](https://gitlab.com/vsporte_public/vsporte-task/-/tree/main/VSporte.Task.Solution) нужно реализовать метод [DuplicateResolver.Resolve](https://gitlab.com/vsporte_public/vsporte-task/-/blob/main/VSporte.Task.Solution/DuplicateResolver.cs#L7), который принимает отпечаток базы данных в списке параметров. Возвращает отпечаток очищенный от дублей. В проекте [VSporte.Task.Test](https://gitlab.com/vsporte_public/vsporte-task/-/tree/main/VSporte.Task.Test) лежат тесты, которые проверяют реализованный метод. Тесты сверяют эталонный ответ с ответом реализованного метода [DuplicateResolver.Resolve](https://gitlab.com/vsporte_public/vsporte-task/-/blob/main/VSporte.Task.Solution/DuplicateResolver.cs#L7). Тесты содержат описание, и разбиты на разные уровни сложности. Перед сдачей проверь, что тест твоего уровня сложности проходит успешно.
#### Подробности задания
Метод [DuplicateResolver.Resolve](https://gitlab.com/vsporte_public/vsporte-task/-/blob/main/VSporte.Task.Solution/DuplicateResolver.cs#L7) принимает параметр типа Fingerprint, который содержит 3 массива данных: игроки, клубы, связка клубов с игроком.

Игрок [PlayerItem](https://gitlab.com/vsporte_public/vsporte-task/-/blob/main/VSporte.Task.Solution/Models/PlayerItem.cs) содержит в себе параметры: 
- Идентификатор,
- Номер игрока на поле,
- Фамилия,
- Имя.

Клуб [ClubItem](https://gitlab.com/vsporte_public/vsporte-task/-/blob/main/VSporte.Task.Solution/Models/ClubItem.cs) содержит в себе параметры:
- Идентификатор,
- Название клуба,
- Город в котором находится клуб.

Связка Игрок Клуб [PlayerClubItem](https://gitlab.com/vsporte_public/vsporte-task/-/blob/main/VSporte.Task.Solution/Models/PlayerClubItem.cs) состоит из идентификатора игрока и идентификатора Клуба.

Наличие связки между игроком и клубом, говорит о том, что игрок играет в указанном клубе.

Данные могут быть заполнены не точно:

В названиях могут быть лишние пробелы, табуляции, могу ошибочно проставляться заглавные буквы или пропущена заглавная буква в начале имени, все имена собственные могут быть заполнены в кириллице или латинице, в случае кириллицы считать одним и тем же буквы (е - ё) и (и - й). Учитывайте эти исключение в поисках дублей.

### Задание по уровням сложности:
#### Задание 1.1
Нужно избавиться от дублей игроков и клубов. Связка игрока с клубом проверяться не будет

Дублем игрока считается игрок, у которого одни и те же имя, фамилия и номер.

Дублем клуба считается клуб с тем же названием клуба и городом.

Основной сущностью среди дублей, считается первая сущность по порядку. Основная сущность остается, остальные дубли удаляются.

Количество дублей не ограничено.

**Пример:**

_Исходные данные_:
- Родина (москва):
  - 25 Игорь Пупкин
  - 13 Федор Сидоров
  - 25 Игорь Пупкин
- Родина (москва):
  - 13 Федор Сидоров
  - 90 Николай Двинятин
- Спартак (null):
  - 25 Игорь Пупкин
  - 2 Николай Котов

_Результат:_
- Родина (москва):
  - 25 Игорь Пупкин
  - 13 Федор Сидоров
- Спартак (null):
  - 2 Николай Котов
- Без клуба:
  - 90 Николай Двинятин


#### Задание 1.2
Нужно избавиться от дублей игроков и клубов. Связка игрока с клубом проверяться не будет

Дублем игрока считаются игроки подходящие под один из двух пунктов:
- у которых одни и те же имя, фамилия и номер
- **у которых одни и те же имя, фамилия и находятся в том же клубе**

Дублем клуба считается клуб с тем же названием клуба и города **(если у клуба не задан город, то его нужно объединять с тем клубом у которого тоже название, но есть город, если есть два клуба с тем же названием и у обоих задан город, приоритет отдается клубу идущем первым в списке)**

Основной сущностью среди дублей, считается первая сущность по порядку. Основная сущность остается, остальные дубли удаляются.

Количество дублей не ограничено.

**Пример:**

_Исходные данные:_
- Родина (москва):
    - 25 Игорь Пупкин
    - 13 Федор Сидоров
    - 20 Игорь Пупкин
- Родина (null):
    - 13 Федор Сидоров
    - 90 Николай Двинятин
- Спартак (null):
  - 25 Игорь Пупкин
  - 2 Николай Котов

_Результат:_
- Родина (москва):
  - 25 Игорь Пупкин
  - 13 Федор Сидоров
- Спартак (null):
  - 2 Николай Котов
- Без клуба:
  - 90 Николай Двинятин

#### Задание 1.3
Нужно избавиться от дублей игроков и клубов. 
**Связка игрока с клубом проверяется в этом задании: игроки из дубля клуба связываются с основным клубом**

Дублем игрока считаются игроки подходящие под один из двух пунктов:
- у которых одни и те же имя, фамилия и номер
- у которых одни и те же имя, фамилия и находятся в том же клубе

Дублем клуба считается клуб с тем же названием клуба и города(если у клуба не задан город, то его нужно объединять с тем клубом у которого тоже название, но есть город, если есть два клуба с тем же названием и у обоих задан город, приоритет отдается клубу идущем первым в списке)

Основной сущностью среди дублей, считается первая сущность по порядку. Основная сущность остается, остальные дубли удаляются.

Количество дублей не ограничено.

**Пример:**

_Исходные данные:_
- Родина (москва):
  - 25 Игорь Пупкин (id = 1)
  - 13 Федор Сидоров
  - 20 Игорь Пупкин (id = 2)
- Родина (null):
  - 13 Федор Сидоров
  - 90 Николай Двинятин
- Спартак (null):
  - 25 Игорь Пупкин (id = 3)
  - 2 Николай Котов

_Результат:_
- Родина (москва):
  - 25 Игорь Пупкин (id = 1)
  - 13 Федор Сидоров
  - 90 Николай Двинятин
- Спартак (null):
  - 25 Игорь Пупкин (id = 1)
  - 2 Николай Котов

## Задание 2
Творческое задание
Нам нужно разработать api сервиса ведения статистики футбольных матчей
Нужно разработать схему базы данных и функционал для crud(create read update delete) следующих сущностей :
- Клуб:
  - идентификатор,
  - название,
  - короткое название.
- Игрок:
  - идентификатор,
  - фамилия,
  - имя,
  - отчество,
  - номер игрока на поле.
- Связка игрока и клуба: пара идентификаторов игрока и клуба, описывает связь между игроком и клубом
  - Идентификатор Игрока
  - Идентификатор Клуба
- Игровое событие: сущности, содержащие информацию о том что произошло на поле, к примеру Василий Пупкин забил гол на 5 минуте матча, содержат поля:
  - Идентификатор события,
  - Идентификатор игрока события(nullable)
  - Идентификатор клуба
  - Тип события (произвольная строка: гол, красная карточка и тд)
  - Время матча на момент события